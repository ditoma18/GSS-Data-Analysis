---
title: "Analysis of General Social Survey Data"
author: "parfait AKOUNDA"
date: "`r Sys.Date()`"
output: html_document
---

# Introduction

This document analyzes the relationship between education level and income using the General Social Survey (GSS) dataset.

## 1. Loading the Required Libraries

```{r}
library(haven)    # For importing SAS files
library(tidyverse) # For data manipulation & visualization
library(corrplot)  # For correlation plots
```
# 2. Importing the GSS Datase
```{r}
# Replace "path/to/your/file.sas7bdat" with the actual file path
gss_data <- read_sas("C:/Users/HP/Downloads/2021/2021/gss2021.sas7bdat")
glimpse(gss_data)  # Overview of the dataset
```
# 3. Data Cleaning & Selection
```{r}
gss_subset <- gss_data %>%
  select(EDUC, REALINC) %>%  # Selecting education and income variables
  drop_na()  # Removing missing values
  summary(gss_subset)
```
# 4. Statistical Analysis
## 4.1 Correlation between Education and Income
```{r}
correlation <- cor(gss_subset$EDUC, gss_subset$REALINC, use = "complete.obs")
correlation
```
### InterprÃ©tation du coefficient de corrÃ©lation
Le coefficient de corrÃ©lation entre l'Ã©ducation (EDUC) et le revenu rÃ©el (REALINC) est 0.378.

Que signifie cette valeur ?
0.3778 indique une corrÃ©lation positive faible Ã  modÃ©rÃ©e entre le niveau d'Ã©ducation et le revenu.

Cela signifie que plus une personne a d'annÃ©es d'Ã©ducation, plus elle a tendance Ã  gagner un revenu Ã©levÃ©, mais cette relation n'est pas trÃ¨s forte.

Une corrÃ©lation de 1 signifierait une relation parfaite, tandis que 0 indiquerait aucune relation.

Que peut-on en conclure ?
Lâ€™Ã©ducation joue un rÃ´le dans lâ€™augmentation du revenu, mais dâ€™autres facteurs influencent aussi fortement les revenus (expÃ©rience, secteur dâ€™activitÃ©, situation Ã©conomique, etc.).

Une corrÃ©lation modÃ©rÃ©e signifie que certaines personnes avec peu dâ€™Ã©ducation peuvent tout de mÃªme bien gagner leur vie, tandis que d'autres ayant un haut niveau dâ€™Ã©ducation peuvent avoir un revenu faible.

## 4.2 Linear Regression
```{r}
model <- lm(REALINC ~ EDUC, data = gss_subset)
summary(model)
```
### InterprÃ©tation des rÃ©sultats de la rÃ©gression linÃ©aire
Le modÃ¨le de rÃ©gression estime la relation entre le niveau dâ€™Ã©ducation (EDUC) et le revenu rÃ©el (REALINC).

####1. InterprÃ©tation des coefficients
ð‘…ð¸ð´ð¿Ið‘ð¶=âˆ’31162+4616.7Ã—ð¸ð·ð‘ˆð¶
REALINC=âˆ’31162+4616.7Ã—EDUC
.Intercept (-31 162) : Si une personne nâ€™a aucune annÃ©e dâ€™Ã©ducation (EDUC = 0), le modÃ¨le prÃ©dit un revenu de -31 162. Ce nâ€™est pas rÃ©aliste, mais câ€™est simplement lâ€™extrapolation mathÃ©matique du modÃ¨le.

.Coefficient de EDUC (4 616.7) : Chaque annÃ©e supplÃ©mentaire dâ€™Ã©ducation est associÃ©e Ã  une augmentation moyenne du revenu rÃ©el de 4 616,7 unitÃ©s monÃ©taires (probablement en dollars).

#### 2. Signification statistique
.p-value < 2e-16 pour EDUC : La relation entre lâ€™Ã©ducation et le revenu est hautement significative.

Les trois Ã©toiles ('*'**) confirment une trÃ¨s forte signification statistique (p < 0.001).

#### 3. QualitÃ© du modÃ¨le
Multiple R-squared = 0.1427 â†’ Seulement 14.27% de la variation du revenu est expliquÃ©e par lâ€™Ã©ducation.

Cela signifie quâ€™il y a dâ€™autres facteurs importants (Ã¢ge, sexe, expÃ©rience professionnelle, secteur dâ€™activitÃ©, etc.).

Residual standard error = 31 030 â†’ Lâ€™Ã©cart-type des rÃ©sidus est Ã©levÃ©, indiquant une forte variabilitÃ© des revenus Ã  Ã©ducation Ã©gale.

#### 4. Conclusion
Il existe une relation positive significative entre Ã©ducation et revenu, mais elle ne suffit pas Ã  expliquer lâ€™ensemble des variations de salaire.

Pour amÃ©liorer le modÃ¨le, il faudrait inclure plus de variables (Ã¢ge, secteur dâ€™activitÃ©, genre, expÃ©rience).
# 5. Data Visualization
## 5.1 Scatter Plot with Regression Line
```{r}
ggplot(gss_subset, aes(x = EDUC, y = REALINC)) +
  geom_point(alpha = 0.5) +
  geom_smooth(method = "lm", col = "blue") +
  labs(title = "Relation between Education Level and Income",
       x = "Years of Education",
       y = "Real Income")
```
## Multiple linear regression
```{r}
model_multi <- lm(REALINC ~ EDUC + AGE + HRS1, data = gss_data)
summary(model_multi)
```
## 6. InterprÃ©tation des RÃ©sultats

### 6.1 Analyse des Coefficients

```{r}
# Affichage des rÃ©sultats de la rÃ©gression multiple
summary(model_multi)
```

| Variable   | Estimate (Effet sur REALINC) | p-value | Signification |
|------------|------------------------------|---------|---------------|
| **(Intercept)** | -64,136 | < 2e-16 | Revenu prÃ©dit si EDUC, AGE et HRS1 sont Ã  0 (hors contexte rÃ©el). |
| **EDUC**   | 4,547 | < 2e-16 | Une annÃ©e supplÃ©mentaire d'Ã©ducation augmente le revenu annuel de 4,547 unitÃ©s. |
| **AGE**    | 408 | 6.16e-14 | Chaque annÃ©e supplÃ©mentaire d'Ã¢ge augmente le revenu de 408 unitÃ©s. |
| **HRS1**   | 485 | < 2e-16 | Chaque heure travaillÃ©e en plus par semaine augmente le revenu de 485 unitÃ©s. |

**InterprÃ©tation :**
- Lâ€™Ã©ducation a un impact positif et significatif sur le revenu.
- Lâ€™Ã¢ge a un effet positif mais plus faible.
- Les heures travaillÃ©es augmentent le revenu, mais l'effet reste modÃ©rÃ©.

---

### 6.2 QualitÃ© du ModÃ¨le

```{r}
# Affichage du RÂ² et de la p-value globale
summary(model_multi)$r.squared
summary(model_multi)$adj.r.squared
```

- **RÂ² = 0.1879** â†’ 18.79% de la variance du revenu est expliquÃ©e par EDUC, AGE et HRS1.
- **p-value globale < 2.2e-16** â†’ Le modÃ¨le est statistiquement significatif.

---

### 6.3 Comparaison avec la RÃ©gression Simple

```{r}
# Comparaison des modÃ¨les
```


```{r}
summary(model)$r.squared
summary(model_multi)$r.squared
```

| ModÃ¨le | EDUC (Effet sur REALINC) | RÂ² | InterprÃ©tation |
|--------|---------------------------|----|---------------|
| **RÃ©gression simple** (REALINC ~ EDUC) | 4,617 | 14.27% | Lâ€™Ã©ducation seule explique 14% de la variabilitÃ© du revenu. |
| **RÃ©gression multiple** (REALINC ~ EDUC + AGE + HRS1) | 4,547 | 18.79% | Lâ€™Ã©ducation reste le facteur principal, mais AGE et HRS1 ajoutent un pouvoir explicatif. |

**Conclusion :**
L'ajout de l'Ã¢ge et des heures travaillÃ©es amÃ©liore lÃ©gÃ¨rement le modÃ¨le, mais lâ€™Ã©ducation reste le facteur le plus dÃ©terminant.

---

### 6.4 Prochaines Ã‰tapes

```{r}
# Ajout possible d'autres variables
# Exemple : rÃ©gression incluant le genre
model_gender <- lm(REALINC ~ EDUC + AGE + HRS1 + SEX, data = gss_data)
summary(model_gender)
```

Pour amÃ©liorer le modÃ¨le, il serait intÃ©ressant d'ajouter d'autres variables comme :
- **Le genre (GENDER)**
- **Le type d'emploi (OCCUPATION)**
- **Le prestige du mÃ©tier (PRESTIGE)**
- **L'expÃ©rience professionnelle (WORKEXP)**
- **Le lieu de rÃ©sidence (URBAN/RURAL)**


# 5.2 Correlation Matrix

# Selecting relevant variables
```{r}
gss_corr <- gss_data %>%
  select(EDUC, REALINC, AGE, HRS1) %>% 
  drop_na()
```
# Computing correlation matrix
```{r}
corr_matrix <- cor(gss_corr)
```

# Plotting correlation matrix
```{r}
corrplot(corr_matrix, method = "color", tl.col = "black", tl.srt = 45)
```
### InterprÃ©tation de la matrice de corrÃ©lation
Le corrÃ©logramme reprÃ©sente les corrÃ©lations entre les variables suivantes :

EDUC (niveau dâ€™Ã©ducation)

REALINC (revenu rÃ©el)

AGE (Ã¢ge)

HRS1 (heures travaillÃ©es par semaine)

1. Lecture des couleurs et intensitÃ©s
Couleurs bleues â†’ CorrÃ©lation positive (plus c'est foncÃ©, plus la corrÃ©lation est forte).

Couleurs rouges â†’ CorrÃ©lation nÃ©gative (plus c'est foncÃ©, plus la relation inverse est forte).

Couleurs blanches â†’ Pas de corrÃ©lation significative (~0).

2. Analyse des corrÃ©lations clÃ©s
EDUC & REALINC (~0.38, bleu clair)
â†’ Une corrÃ©lation positive modÃ©rÃ©e : plus une personne a dâ€™Ã©ducation, plus son revenu tend Ã  Ãªtre Ã©levÃ©.

AGE & REALINC (~faible positif, bleu trÃ¨s clair)
â†’ Une corrÃ©lation faible positive : lâ€™Ã¢ge influence lÃ©gÃ¨rement le revenu, mais pas fortement.
â†’ Peut-Ãªtre que lâ€™expÃ©rience professionnelle est plus dÃ©terminante que lâ€™Ã¢ge seul.

HRS1 & REALINC (~faible positif, bleu trÃ¨s clair)
â†’ Une faible corrÃ©lation positive : plus une personne travaille dâ€™heures, plus son revenu est lÃ©gÃ¨rement Ã©levÃ©.

AGE & HRS1 (~nÃ©gatif, rouge clair)
â†’ Une corrÃ©lation nÃ©gative : plus lâ€™Ã¢ge augmente, moins les gens travaillent dâ€™heures (probablement dÃ» Ã  la retraite, aux rÃ©ductions dâ€™heures en fin de carriÃ¨re, etc.).

## 6.Conclusion
The analysis shows a positive correlation between education level and income. Further analysis could include more variables such as age, gender, and job prestige.